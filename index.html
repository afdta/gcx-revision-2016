<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Data Resources at Brookings</title>
  <link rel="stylesheet" href="eitcstyle.css">
  <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.2/angular.min.js"></script>-->
  <script type="text/javascript" src="angularmin.js"></script>
  <script type="text/javascript" src="angularanimate.js"></script>
 
  <script type="text/javascript" src="services.js"></script>
  <script type="text/javascript" src="directives.js"></script>
  <script type="text/javascript" src="controllers.js"></script>
  <!--<script type="text/javascript" src="json2.js"></script>-->
</head>
<body>
<div ng-app="METRODAT" ng-controller="metrodat_ctrl" id="ng-app">
	<div style="width:100%">
		<div class="group texture" style="margin-top:5px;float:left;border:0px solid #d1d1d1;width:98%;padding-left:2%;padding-right:2%;padding-bottom:25px;">
		
			<h3>{{selectionHeader}}</h3>
			
			<div class="resourceBox" style="float:left;width:65%">
				<div class="group inner menu" style=""><input type="text" ng-mousedown="showmets()" ng-model="metkeyword" placeholder="Search for your metro area by name or state" style="width:100%"></input></div>
			</div>
			<!--<div class="menu group"><select ng-model="metroCode" ng-options="m.MCode as m.MetroName for m in metros"></select></div>-->
			
			<div ng-show="metsel" style="width:100%;padding:0px 0px 3px 0px;clear:both;float:left;" class="group">
				<p style="float:left;padding:1px 5px 1px 5px;margin:3px 3px 3px 0px;color:rgb(5,55,105);border:0px solid #C23930;background:#C23930;cursor:pointer;color:#ffffff;" ng-show="metsel">Click to select:</p>
				<p class="animate-repeat" 
				   style="float:left;padding:1px 5px 1px 5px;margin:3px 3px 3px 0px;border:0px solid #d1d1d1;background:#1B68B5;cursor:pointer;color:#ffffff;" 
				   ng-repeat="m in metros | filter:metkeyword track by m.MCode"
				   ng-mouseDown='setMetro(m)'>
				   {{m.ShortName}}
				</p>
			</div>
			
			<div style="clear:both;float:left;width:100%;height:1px;background:#d1d1d1;border-bottom:1px solid #f5f5f5;margin:10px auto 10px auto;"></div>



			<div style="clear:both;padding:0px;margin:10px 0px 0px 0px;float:left;" class="options group">
				<div style="margin-bottom:10px;float:left;">
				<p style="float:left;margin-right:0px;">Sort results by:</p>
				<div style="float:left">
					<input type="checkbox" ng-model="reportSortName" ng-click="updateNameSort($event)" style="float:left"></input>
					<p style="float:left">Report name</p>
				</div>

				<div style="float:left">
					<input type="checkbox" ng-model="reportSortDate" ng-click="updateDateSort($event)" style="float:left"></input>
					<p style="float:left;margin-right:10px;">Release date (newest first)</p>
				</div>
			</div>
				<input type="text" ng-model="keyword" class="input-alone" style="float:left" placeholder="Filter reports by keyword or author"></input>
			</div>		

			<div style="float:left;" profile-gen='r' ng-repeat="r in reports | filter:keyword | reportOrder:reportSortName track by r.PID">
				<!--<a class="profileLink" href={{r|linkBuilder:metro}}>{{metro.FirstCity}} Profile >></a>-->
				<div profile-links='r' metro='metro'></div>
			</div>
		</div>
	</div>
</div>

</body>
</html>